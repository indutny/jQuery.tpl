//jQuery.tpl plugin v.0.5.2;Copyright 2010, Fedor Indutny;Released under MIT license
(function(g,q){function w(l){return eval(l)}(function(l,x,r,o,y,s,z,A,B,p){function C(b,a){if(b.map)return b.map(a);for(var e=0,f=b.length;e<f;e++)b[e]=a(b[e],e);return b}function D(b,a,e){return a[a.length]=b instanceof g?E(b,e):b}function j(b){return function(a){return b.replace(B,a,b)}}function n(b){return function(){return b}}function E(b,a){a[a.length]=b;return"<b id='_jquery_tpl_"+(a.length-1)+"'/>"}p={"=":j("$p(%1,$_,$r);"),"@":j("function %1"),"~":j("(function(){%1})();"),":":function(b,a){a=b.match(s);return"$p($.template('"+a[1]+"')("+b.substr(a[0].length)+"),$_,$r);"},"if":j("if(%1){"),"else":n("}else{"),elseif:j("}else if(%1){"),"/if":n("}"),each:j("$.each(%1,function($i){"),"/each":n("});"),"catch":j("%1=(function(){var $_=[];"),"/catch":n("return $_.join('')})();")};g.fn.render=function(b,a,e,f){f=this;!a&&typeof b!=="string"&&(a=b)&&(b=q);e=g.template(f.html(),f[0]&&(f=f[0].className)?f.split(A):[],b);return a?e(a):g};g.template=function(b,a,e){function f(c,d,h){d=[i,c,D,i.$r];for(h in a)d[d.length]=c[a[h]];return d}if(arguments.length==1&&(k=o[b]))return k;if(k=r[t=b+l+a])return o[e]=k;var u,i={$r:[],$gid:x++},m,k,t,v=0;a instanceof Array?(a[a.length]="$_"):(a=["$_"]);u=b?C(b.replace(z," ").replace(y,l).split(l),function(c,d){if(d%2){(d=c.match(s))&&(d.f=p[d[1]])&&(c=d.f(c.substr(d[0].length),i));return c}if(!c)return"";i[a[a.length]="$"+v]=c;return"$p($"+v++ +",$_,$r);"}).join(""):"";k=w("(function($scope,$args,$p,$r,"+a.join(",")+"){$_=[];"+u+";return $_.join('')})");m=r[t]=function(c,d,h){d=g("<b>"+m.html(c)+"</b>");for(h=i.$r.length-1;h>=0;h--)d.find("#_jquery_tpl_"+h).before(i.$r[h]).remove();i.$r=[];return d.find(">*")};m.html=function(c){c=c||{};g.extend(true,c,i);return k.apply(q,f(c))};e&&(o[e]=m);return m};g.template.modificators=p})("\t",0,{},{},/{%|%}/g,/^([^\s]+|=)(?:\s|$)/,/\t/g,/\s+/g,/%1/)})(jQuery);