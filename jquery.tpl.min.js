/*
 jQuery Tpl plugin v.0.3.2
 Copyright 2010, Fedor Indutny
*/
(function(d){function m(a,c){c[c.length]=a;return"<b id='_jquery_tpl_"+(c.length-1)+"'></b>"}var g={},h={},n=/({%|%})/gm,i=/^([^\s]+)(?:\s|$)/,o=/\t/gm,p=/\s+/gm,q=function(a){this.$_[this.$_.length]=a instanceof d?m(a,this.$scope.$replace):a},r=function(){return this.$_.join("")},s={"=":function(a){return"$p("+a+");"},"@":function(a){return"function "+a},"~":function(a){return"(function(){"+a+"})();"},":":function(a){var c=a.match(i);return"$p($.template('"+c[1]+"').render("+a.substr(c[0].length)+
"));"},each:function(a){return"$.each("+a+",function(){"},"/each":function(){return"});"},"catch":function(){return"$scope.$__=$_;$_=[];"},"/catch":function(a){return a+"=$d();$_=$scope.$__;$scope.$__=void(0);"}};d.fn.render=function(a,c){a=d.template(this.html(),this[0].className.split(p),a);return c?a.render(c):d};d.template=function(a,c,j){if(arguments.length===1)return h[a]||function(){};if(g[a])return g[a];var f={$replace:[]},k,l=0;c=d.merge(["$scope"],d.map(c||[],function(b){return b?b:null}));
a=d.map(a.replace(o," ").replace(n,"\t").split("\t"),function(b,e){if(e%2){if((e=b.match(i))&&(e.f=s[e[1]]))b=e.f(b.substr(e[0].length));return b}else{if(b==="")return null;f["$"+l]=b;return"$p($"+l++ +");"}}).join("");k=new Function(c,"with($scope){(function(){"+a+"})();return $d();}");g[a]=function(b){d.extend(b=b||{},{$_:[],$p:q,$d:r});d.extend(true,b,f);b.$scope=f;return k(b)};g[a].render=function(b){b=d(this(b));if(b.attr("id")=="_jquery_tpl_0")b=f.$replace[0];else for(var e in f.$replace)b.find("#_jquery_tpl_"+
e).before(f.$replace[e]).remove();f.$replace=[];return b};if(j)h[j]=g[a];return g[a]}})(jQuery);