//jQuery.tpl plugin v.0.5.0;Copyright 2010, Fedor Indutny;Released under MIT license
(function(f,p){function u(l){return eval(l)[0]}(function(l,v,i,n,w,q,x,y,z,o){function A(a,b){if(a.map)return a.map(b);for(var e=a.length;e>0;e--)a[e]=b(a[e],e);return a}function B(a,b,e){return b[b.length]=a instanceof f?C(a,e):a}function j(a){return function(b){return a.replace(z,b,a)}}function m(a){return function(){return a}}function C(a,b){b[b.length]=a;return"<b id='_jquery_tpl_"+(b.length-1)+"'/>"}o={"=":j("$p(%1,$_,$r);"),"@":j("function %1"),"~":j("(function(){%1})();"),":":function(a,b){b=a.match(q);return"$p($.template('"+b[1]+"')("+a.substr(b[0].length)+"),$_,$r);"},"if":j("if(%1){"),"else":m("}else{"),elseif:j("}else if(%1){"),"/if":m("}"),each:j("$.each(%1,function($i){"),"/each":m("});"),"catch":j("%1=(function(){var $_=[];"),"/catch":m("return $_.join('')})();")};f.fn.render=function(a,b,e,k){k=this;!b&&typeof a!=="string"&&(b=a)&&(a=p);e=f.template(k.html(),k[0]?k[0].className.split(y):[],a);return b?e(b):f};f.template=function(a,b,e){function k(c,d,g){d=[c,B,h.$r];for(g in b)d[d.length]=c[b[g]];return d}if(arguments.length==1)return n[a]||function(){};if(i[a])return n[e]=i[a];var r,h={$r:[],$gid:v++},s,t=0;b instanceof Array?(b[b.length]="$_"):(b=["$_"]);r=A(a.replace(x," ").replace(w,l).split(l),function(c,d){if(d%2){(d=c.match(q))&&(d.f=o[d[1]])&&(c=d.f(c.substr(d[0].length),h));return c}if(!c)return null;h[b[b.length]="$"+t]=c;return"$p($"+t++ +",$_,$r);"}).join("");s=u("[function($args,$p,$r,"+b.join(",")+"){$_=[];"+r+";return $_.join('');}]");i[a]=function(c,d,g){d=f("<b>"+i[a].html(c)+"</b>");for(g=h.$r.length-1;g>=0;g--)d.find("#_jquery_tpl_"+g).before(h.$r[g]).remove();h.$r=[];return d.find(">*")};i[a].html=function(c){c=c||{};f.extend(true,c,h);c.$scope=h;return s.apply(p,k(c))};e&&(n[e]=i[a]);return i[a]};f.template.modificators=o})("\t",0,{},{},/({%|%})/g,/^([^\s]+)(?:\s|$)/,/\t/g,/\s+/g,/%1/)})(jQuery);